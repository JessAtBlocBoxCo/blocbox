<!-- this is blocbox/core/templates/blocbox/dashboard.html , URL is www.blocbox.co/dashboard
	i think we shoudl only have one dashboard and then just have additional stuff for hosts, using if--then logic.. 
	this is easier to impelemnt if teh layout is relatively straight forward - so additional content is added vertically,
-->
{% extends "blocbox/base.html" %} {% load staticfiles %} {% block title %}Dashboard{% endblock %} {% block headafter %} {% endblock %} {% block content %}

<div class="content container-fluid whitebackground relativediv">

    <div class="row margintop60px marginbottom30px mobilehide">
        <a href="dashboard.html" class="col-xs-2 col-xs-offset-1 subnavtextcurrent textcenter">DASHBOARD</a>
        <a href="/messages/inbox/" class="col-xs-2 subnavtext textcenter">MESSAGES</a>
        <a href="/myblock/" class="col-xs-2 subnavtext textcenter">MY BLOCK</a>
        <p class="col-xs-2 subnavtext textcenter">PROFILE</p>
        <p class="col-xs-2 subnavtext textcenter">ACCOUNT</p>
        <div class="col-xs-10 col-xs-offset-1">
            <div class="profileboxline100"></div>
        </div>
    </div>

    <div class="row nopaddingleftright">
        <!--contains most of page-->
        <!--sidebar-->
        <div class=" col-xs-2 col-xs-offset-1 mobilehide">
            <img class="dashpic" src="{% static 'blocbox/images/profilepics/jessyeats.png' %}" />
            <h3 class="margintop10px nomarginbottom textcenter">{{ user.first_name }}</h3>
            <p class="darkgreytext margintop5px tinytext textcenter">EDIT PROFILE</p>

            <!--start a shipment/start a favor buttons-->
            <div class="profileboxline margintop20px marginbottom20px"></div>

            <div class="col-xs-12 ">
                <button type="startashipment" name="startashipment" class="bluebutton marginbottom30px" {% if hostonly %} onclick="window.location='/startashipment/host{{hostonly.id}}';">
                    {% else %} onclick="window.location='/startashipment';"> {% endif %} Start a Shipment {% if hostonly %} to {{hostonly.first_name }} {% endif %}</button>
            </div>
            <div class="col-xs-12 ">
                <button type="startashipment" name="startafavor" class="bluebutton marginbottom30px" {% if hostonly %} onclick="window.location='/startafavor/host{{hostonly.id}}';">
                    {% else %} onclick="window.location='/startafavor';"> {% endif %} Start a Favor</button>
            </div>

            <div class="col-xs-12 ">
                <button type="startashipment" name="newsearch" class="bluebutton marginbottom30px" onclick="window.location='/search';">Find a new host</button>
            </div>

            <div class="profileboxline margintop20px marginbottom20px"></div>
            <div class="col-xs-12">
                <p class="textcenter">Neigborhood Connections</p>
                <p>You are connected to {{ connections_count }} {% if connections_count = 1 %} neighbor {% else %} neighbors {% endif %}</p>
            </div>
            <div class="profileboxline margintop20px marginbottom20px"></div>
            <!--put the address of each connection here-->
            {% for connection in connections_all %}
            <div class="col-xs-12 paddingtopbottom20px">
                <p>{{ connection.host_user.first_name }} {{ connection.host_user.last_name }}</p>
                <p>{{ connection.host_user.st_address1 }} {{ connection.host_user.st_address2 }}</p>
                <p>{{ connection.host_user.city }}, {{ connection.host_user.state }} {{ connection.host_user.zipcode }}</p>
            </div>
            {% endfor %}


        </div>
        <!--sidebar-->


        <!--CONTAINER WITH EVERYTHING-->
        <div class="col-xs-12 col-sm-8">

            <!--SHIPMENTS CONTAINER-->
            <div class="col-xs-12 col-sm-12 dashbox">
                <div class="row">
                    <h3 class="col-xs-12 ltbluetext margintop10px nopadding">Current Shipments</h3> 
                </div>

                <!--TOP ROW - HEADERS -->
                <div class="row textcenter darkgreytext tinytext ">
                    <!--row containing top table-->
                    <div class="col-xs-2">
                        <p class="marginbottom5px">STATUS</p>
                    </div>
                    <div class="col-xs-3">
                        <p class="marginbottom5px">TRACKING</p>
                    </div>
                    <div class="col-xs-2">
                        <p class="marginbottom5px">DELIVERY DATE</p>
                    </div>
                    <div class="col-xs-3">
                        <p class="marginbottom5px">NEIGHBOR</p>
                    </div>
                    <div class="col-xs-2">
                        <p class="marginbottom5px">OPTIONS</p>
                    </div>
                </div>


                <!--Current or Recent Shipments-->

                {% for shipment in shipments_all %}
                <div class="row whitebackground marginbottom30px tinytext textcenter">
                    <!--<div class="row  paddingtop10px"> -->
                    <div class="col-xs-2 paddingtopbottom20px">
                        <p class="dashfont nomargin">{{ shipment.status }}</p>
                    </div>
                    <div class="col-xs-3 paddingtopbottom20px ">
                        <a href="#openModal" class="nomargin dashfont textcenter">Enter Tracking #</a>
                        <div id="openModal" class="modalDialog">
                            <div>	<a href="#close" title="Close" class="close">X</a>
                                <h6 class="ltbluetext">Enter a Tracking Number</h6>
                                <p>Enter a tracking number, shipping company or other information</p>
                                <form class="form-inline" role="form" method="post" action="/tracking/" enctype="multipart/form-data">
                                    <div class="col-xs-12 form-group nopaddingleftright paddingbottom10px">
                                        <input type="tracking" class="form-control" name="tracking" id="id_tracking" placeholder="">
                                    </div>
                                    <div class="row paddingbottom10px">
                                        <button type="submit" name="submit" class="col-xs-5 col-xs-offset-7 bluebutton">Submit</button>
                                    </div>
                                </form>
                                <!--end form line -->
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-2 paddingtopbottom10px">
                        <p class="dashfont nomargin">{{ shipment.deliverydate }}</p>
                    </div>
                    <div class="col-xs-3 paddingtopbottom20px">
                        <div class="row paddingtopbottom2px">
                            <a class="dashfont nomargin">{{ shipment.host.first_name }}</a>
                        </div>
                        <div class="row">
                            <a class="dashfont nomargin">{{ shipment.host.st_address1 }}, {{ shipment.host.st_address2 }}</a>
                        </div>
                    </div>
                    <!--add a "modify" link to update the information -->
                    <div class="col-xs-2 paddingtopbottom10px">
                        <div class="row paddingtopbottom2px">
                            <a class="dashfont nomargin">Modify</a>
                        </div>
                        <div class="row">
                            <a class="dashfont nomargin">Message</a>
                        </div>
                    </div>
                </div>
                <!--row, testing row-->
                {% endfor %}

            </div>
            <!--col, shipments container-->



            <!--Favors Box-->
            <div class="col-xs-12 dashbox margintop30px marginbottom30px">
                <h3 class="col-xs-12 ltbluetext nopadding">Other Transactions</h3> 

                <!--labels-->
                <div class="row darkgreytext tinytext textcenter">
                    <!--label-->
                    <p class="col-xs-2 marginbottom5px">STATUS</p>
                    <p class="col-xs-2 marginbottom5px">DESCRIPTION</p>
                    <p class="col-xs-2 marginbottom5px">COMPLETION DATE</p>
                    <p class="col-xs-3 marginbottom5px">NEIGHBOR'S ADDRESS</p>
                    <p class="col-xs-2 marginbottom5px">OPTIONS</p>
                </div>
                <!--row, label -->

                <!--test data-->
                <div class="row whitebackground marginbottom30px paddingtop10px tinytext textcenter">
                    <!--test row-->
                    <p class="col-xs-2">In progress</p>
                    <p class="col-xs-2">House Sitting</p>
                    <p class="col-xs-2">Nov. 19</p>
                    <p class="col-xs-3">[TestRow]</p>
                    <p class="col-xs-2">Modify</p>
                </div>
                <!--row, text data-->

                <!--Actual Data-->
                {% for favor in otherfavors_all %}
                <div class="row whitebackground marginbottom30px paddingtop10px tinytext textcenter">
                    <!--test row-->
                    <p class="col-xs-2">{{ favor.invoice }}</p>
                    <p class="col-xs-2">{{ favor.item_name }}</p>
                    <p class="col-xs-2">[ADDME]</p>
                    <p class="col-xs-3">{{ favor.host_st_address1 }}, {{ favor.host_st_address2 }} ({{ favor.host_fname }})</p>
                    <p class="col-xs-2">[ADDME]</p>
                </div>
                <!--row, text data-->
                {% endfor %}

            </div>
            <!--col, Favors box--->


            <!--COMPLETED SHIPMENTS Container-->
            <div class="col-xs-12 dashbox marginbottom60px marginbottom30px">

                <h3 class="col-xs-12 ltbluetext nopadding">Completed Shipments and other Transactions</h3> 
                <!--eventually make this "within past 60 ays" or something or have multiple pages-->
                <div class="row darkgreytext tinytext textcenter">
                    <!--labels-->
                    <p class="col-xs-2 marginbottom5px">STATUS</p>
                    <p class="col-xs-2 marginbottom5px">TRACKING</p>
                    <p class="col-xs-2 marginbottom5px">DELIVERY DATE</p>
                    <p class="col-xs-2 marginbottom5px">NEIGHBOR</p>
                    <p class="col-xs-2 marginbottom5px">ADDRESS</p>
                    <p class="col-xs-2 marginbottom5px">OPTIONS</p>
                </div>
                <!--row, labels-->
                <div class="row whitebackground marginbottom30px">
                    <div class="row textcenter tinytext paddingtop10px">
                        <p class="col-xs-2">Received</p>
                        <p class="col-xs-2">Z139W198WQPUTV</p>
                        <p class="col-xs-2">Nov. 11</p>
                        <p class="col-xs-2">John</p>
                        <p class="col-xs-2">420 Grand Ave.</p>
                        <p class="col-xs-2">View Receipt</p>
                    </div>
                </div>
                <!--row, text data-->
            </div>
            <!--col, RECENT SHIPMETNS-->
        </div>
        <!--col, Container with everything-->
    </div>
</div>


{% endblock %}

<!-- <p class="col-xs-2 nomargin nopadding">RECENT</p>
<div class="col-xs-12 dashbox marginbottom60px">
    <div class="row">
        <h3 class="col-xs-3 margintop10px nopadding">Shipments</h3>
    </div>
<div> -->